<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Appiko: IRQ to main thread message passer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Appiko
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">IRQ to main thread message passer<div class="ingroups"><a class="el" href="group__group__codebase.html">Codebase</a> &raquo; <a class="el" href="group__group__util.html">Generic utility code</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This module is used to pass messages from any higher priority interrupts to lower priority ones or the main thread so that the higher priority interrupt can finish soon and off-load non-real time tasks.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1f677be7f5fc1de1cac8f80d3c27d70c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__irq__msg.html#ga1f677be7f5fc1de1cac8f80d3c27d70c">irq_msg_init</a> (irq_msg_callbacks *cb_ptr)</td></tr>
<tr class="separator:ga1f677be7f5fc1de1cac8f80d3c27d70c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44c15b5bcbe1929b1c6fc78ac91278ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__irq__msg.html#ga44c15b5bcbe1929b1c6fc78ac91278ca">irq_msg_push</a> (irq_msg_types pushed_msg, void *more_data)</td></tr>
<tr class="separator:ga44c15b5bcbe1929b1c6fc78ac91278ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa903abf6fb030f249804c2ae6cc39a96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__irq__msg.html#gaa903abf6fb030f249804c2ae6cc39a96">irq_msg_process</a> (void)</td></tr>
<tr class="separator:gaa903abf6fb030f249804c2ae6cc39a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1f677be7f5fc1de1cac8f80d3c27d70c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f677be7f5fc1de1cac8f80d3c27d70c">&#9670;&nbsp;</a></span>irq_msg_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irq_msg_init </td>
          <td>(</td>
          <td class="paramtype">irq_msg_callbacks *&#160;</td>
          <td class="paramname"><em>cb_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the messenger ring buffer system </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_ptr</td><td>The array of function pointers that gets called for different message types. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="irq__msg__util_8c_source.html#l00053">53</a> of file <a class="el" href="irq__msg__util_8c_source.html">irq_msg_util.c</a>.</p>

<p class="reference">References <a class="el" href="nrf__assert_8h_source.html#l00048">ASSERT</a>, and <a class="el" href="CBUF_8h_source.html#l00090">CBUF_Init</a>.</p>

</div>
</div>
<a id="gaa903abf6fb030f249804c2ae6cc39a96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa903abf6fb030f249804c2ae6cc39a96">&#9670;&nbsp;</a></span>irq_msg_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irq_msg_process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is to be called in the while(1) loop in <a class="el" href="group__bluey__demo.html#ga840291bc02cba5474a4cb46a9b9566fe" title="Function for application main entry.">main()</a> so that all the pushed messages can be processed. </p>

<p class="definition">Definition at line <a class="el" href="irq__msg__util_8c_source.html#l00077">77</a> of file <a class="el" href="irq__msg__util_8c_source.html">irq_msg_util.c</a>.</p>

<p class="reference">References <a class="el" href="CBUF_8h_source.html#l00097">CBUF_Len</a>, and <a class="el" href="CBUF_8h_source.html#l00109">CBUF_Pop</a>.</p>

</div>
</div>
<a id="ga44c15b5bcbe1929b1c6fc78ac91278ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44c15b5bcbe1929b1c6fc78ac91278ca">&#9670;&nbsp;</a></span>irq_msg_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irq_msg_push </td>
          <td>(</td>
          <td class="paramtype">irq_msg_types&#160;</td>
          <td class="paramname"><em>pushed_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>more_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is to be called in the higher priority interrupt and is used to push the required message. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pushed_msg</td><td>The type of message to be pushed </td></tr>
    <tr><td class="paramname">more_data</td><td>The data of the message to be pushed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="irq__msg__util_8c_source.html#l00064">64</a> of file <a class="el" href="irq__msg__util_8c_source.html">irq_msg_util.c</a>.</p>

<p class="reference">References <a class="el" href="CBUF_8h_source.html#l00103">CBUF_Push</a>, <a class="el" href="nrf__util_8h_source.html#l00103">CRITICAL_REGION_ENTER</a>, and <a class="el" href="nrf__util_8h_source.html#l00113">CRITICAL_REGION_EXIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="sense__pir_2main_8c_source.html#l00378">button_handler()</a>, and <a class="el" href="device__tick_8c_source.html#l00089">device_tick_process()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
