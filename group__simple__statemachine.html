<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Appiko: A demo of a simple state machine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Appiko
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">A demo of a simple state machine<div class="ingroups"><a class="el" href="group__group__appln.html">Applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A simple state machine of three states is implemented in this example both switch statement and function pointers. This example is compiled for the Bluey board. The state machine is as shown in the diagram below. Note that <code>button</code> in the diagram means the release of the button.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gabe726bf851bc7abc31a703dc78138395"><td class="memItemLeft" align="right" valign="top"><a id="gabe726bf851bc7abc31a703dc78138395"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#gabe726bf851bc7abc31a703dc78138395">state_process</a>) (void)</td></tr>
<tr class="memdesc:gabe726bf851bc7abc31a703dc78138395"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of function pointer that'll be used by the processing functions of the three states. <br /></td></tr>
<tr class="separator:gabe726bf851bc7abc31a703dc78138395"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga85a12a157ef9e7bd4abdc6c1cd2b2f1d"><td class="memItemLeft" align="right" valign="top"><a id="ga85a12a157ef9e7bd4abdc6c1cd2b2f1d"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#ga85a12a157ef9e7bd4abdc6c1cd2b2f1d">sm_states</a> </td></tr>
<tr class="memdesc:ga85a12a157ef9e7bd4abdc6c1cd2b2f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The three states of the state machine. <br /></td></tr>
<tr class="separator:ga85a12a157ef9e7bd4abdc6c1cd2b2f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5b719f84aceee7d0aa5b4f2e5ad0e907"><td class="memItemLeft" align="right" valign="top"><a id="ga5b719f84aceee7d0aa5b4f2e5ad0e907"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#ga5b719f84aceee7d0aa5b4f2e5ad0e907">repeat_handler</a> (void)</td></tr>
<tr class="memdesc:ga5b719f84aceee7d0aa5b4f2e5ad0e907"><td class="mdescLeft">&#160;</td><td class="mdescRight">5s timeout handler used to go from green to red state or red to off state. <br /></td></tr>
<tr class="separator:ga5b719f84aceee7d0aa5b4f2e5ad0e907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacca364a62ad7e49177c6cf30d7fb0c9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#gacca364a62ad7e49177c6cf30d7fb0c9d">button_check</a> (void)</td></tr>
<tr class="memdesc:gacca364a62ad7e49177c6cf30d7fb0c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that returns if the button was released from the previous time it was called.  <a href="#gacca364a62ad7e49177c6cf30d7fb0c9d">More...</a><br /></td></tr>
<tr class="separator:gacca364a62ad7e49177c6cf30d7fb0c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19ad533eee14c4c3287d45d33b2cdd48"><td class="memItemLeft" align="right" valign="top"><a id="ga19ad533eee14c4c3287d45d33b2cdd48"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#ga19ad533eee14c4c3287d45d33b2cdd48">green_process</a> (void)</td></tr>
<tr class="memdesc:ga19ad533eee14c4c3287d45d33b2cdd48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Green state process checks if there is a button press to reset the timer. <br /></td></tr>
<tr class="separator:ga19ad533eee14c4c3287d45d33b2cdd48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad07da51fae98fb3347c9be95bcbe2534"><td class="memItemLeft" align="right" valign="top"><a id="gad07da51fae98fb3347c9be95bcbe2534"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#gad07da51fae98fb3347c9be95bcbe2534">off_process</a> (void)</td></tr>
<tr class="memdesc:gad07da51fae98fb3347c9be95bcbe2534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Off state process checks if there is a button press to go to red state. <br /></td></tr>
<tr class="separator:gad07da51fae98fb3347c9be95bcbe2534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe4cd386f181ecf1d189649ddad41d0a"><td class="memItemLeft" align="right" valign="top"><a id="gabe4cd386f181ecf1d189649ddad41d0a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#gabe4cd386f181ecf1d189649ddad41d0a">red_process</a> (void)</td></tr>
<tr class="memdesc:gabe4cd386f181ecf1d189649ddad41d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Red state process checks if there is a button press to go to green state. <br /></td></tr>
<tr class="separator:gabe4cd386f181ecf1d189649ddad41d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top"><a id="ga840291bc02cba5474a4cb46a9b9566fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__simple__statemachine.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:ga840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for application main entry. <br /></td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="dotgraph">
</div>
 <h2 class="groupheader">Function Documentation</h2>
<a id="gacca364a62ad7e49177c6cf30d7fb0c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacca364a62ad7e49177c6cf30d7fb0c9d">&#9670;&nbsp;</a></span>button_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool button_check </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>True if a button release happened, else false </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__statemachine_2main_8c_source.html#l00106">106</a> of file <a class="el" href="simple__statemachine_2main_8c_source.html">main.c</a>.</p>

<p class="reference">References <a class="el" href="bluey__1v1_8h_source.html#l00052">BUTTONS_ACTIVE_STATE</a>.</p>

<p class="reference">Referenced by <a class="el" href="simple__statemachine_2main_8c_source.html#l00124">green_process()</a>, <a class="el" href="simple__statemachine_2main_8c_source.html#l00134">off_process()</a>, and <a class="el" href="simple__statemachine_2main_8c_source.html#l00149">red_process()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
